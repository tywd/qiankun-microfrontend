import{_ as a,c as n,o as i,ag as p}from"./chunks/framework.DuUc6cOo.js";const c=JSON.parse('{"title":"é¡¹ç›®æ¶æ„","description":"","frontmatter":{},"headers":[],"relativePath":"guide/architecture.md","filePath":"guide/architecture.md","lastUpdated":1756290117000}'),l={name:"guide/architecture.md"};function e(t,s,h,r,k,E){return i(),n("div",null,[...s[0]||(s[0]=[p(`<h1 id="é¡¹ç›®æ¶æ„" tabindex="-1">é¡¹ç›®æ¶æ„ <a class="header-anchor" href="#é¡¹ç›®æ¶æ„" aria-label="Permalink to &quot;é¡¹ç›®æ¶æ„&quot;">â€‹</a></h1><p>æœ¬é¡µé¢è¯¦ç»†ä»‹ç»äº†ä¼ä¸šçº§å¾®å‰ç«¯é¡¹ç›®çš„æ¶æ„è®¾è®¡å’ŒæŠ€æœ¯é€‰å‹ã€‚</p><h2 id="ğŸ—ï¸-æ•´ä½“æ¶æ„" tabindex="-1">ğŸ—ï¸ æ•´ä½“æ¶æ„ <a class="header-anchor" href="#ğŸ—ï¸-æ•´ä½“æ¶æ„" aria-label="Permalink to &quot;ğŸ—ï¸ æ•´ä½“æ¶æ„&quot;">â€‹</a></h2><h3 id="å¾®å‰ç«¯æ¶æ„å›¾" tabindex="-1">å¾®å‰ç«¯æ¶æ„å›¾ <a class="header-anchor" href="#å¾®å‰ç«¯æ¶æ„å›¾" aria-label="Permalink to &quot;å¾®å‰ç«¯æ¶æ„å›¾&quot;">â€‹</a></h3><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">graph TB</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    subgraph &quot;ç”¨æˆ·æµè§ˆå™¨&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        A[ä¸»åº”ç”¨ - Shell App&lt;br/&gt;localhost:8080]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    subgraph &quot;å­åº”ç”¨æœåŠ¡&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        B[ç”¨æˆ·ç®¡ç†å­åº”ç”¨&lt;br/&gt;localhost:8081]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        C[ç³»ç»Ÿç®¡ç†å­åº”ç”¨&lt;br/&gt;localhost:8082]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        D[å…¶ä»–å­åº”ç”¨...]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    subgraph &quot;å…±äº«èµ„æº&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        E[å…¬å…±ç»„ä»¶åº“]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        F[å·¥å…·å‡½æ•°åº“]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        G[ç±»å‹å®šä¹‰]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    subgraph &quot;åŸºç¡€è®¾æ–½&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        H[è·¯ç”±ç³»ç»Ÿ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        I[çŠ¶æ€ç®¡ç†]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        J[æƒé™æ§åˆ¶]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        K[äº‹ä»¶æ€»çº¿]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    A --&gt; B</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    A --&gt; C</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    A --&gt; D</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    E --&gt; A</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    E --&gt; B</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    E --&gt; C</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    H --&gt; A</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    I --&gt; A</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    J --&gt; A</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    K --&gt; A</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><h3 id="æŠ€æœ¯é€‰å‹" tabindex="-1">æŠ€æœ¯é€‰å‹ <a class="header-anchor" href="#æŠ€æœ¯é€‰å‹" aria-label="Permalink to &quot;æŠ€æœ¯é€‰å‹&quot;">â€‹</a></h3><table tabindex="0"><thead><tr><th>æŠ€æœ¯é¢†åŸŸ</th><th>é€‰æ‹©æ–¹æ¡ˆ</th><th>ç‰ˆæœ¬</th><th>é€‰æ‹©åŸå› </th></tr></thead><tbody><tr><td><strong>å¾®å‰ç«¯æ¡†æ¶</strong></td><td>Qiankun</td><td>2.x</td><td>æˆç†Ÿç¨³å®šï¼Œç”Ÿæ€å®Œå–„ï¼Œé˜¿é‡Œå·´å·´å¼€æº</td></tr><tr><td><strong>å‰ç«¯æ¡†æ¶</strong></td><td>Vue 3</td><td>3.x</td><td>ç»„åˆå¼APIï¼Œæ€§èƒ½ä¼˜åŒ–ï¼ŒTypeScriptæ”¯æŒ</td></tr><tr><td><strong>æ„å»ºå·¥å…·</strong></td><td>Vite</td><td>7.x</td><td>å¿«é€Ÿå¯åŠ¨ï¼ŒHMRï¼Œç°ä»£åŒ–æ„å»º</td></tr><tr><td><strong>ç±»å‹ç³»ç»Ÿ</strong></td><td>TypeScript</td><td>5.x</td><td>ç±»å‹å®‰å…¨ï¼Œå¼€å‘ä½“éªŒï¼Œä»£ç è´¨é‡</td></tr><tr><td><strong>UIç»„ä»¶åº“</strong></td><td>Element Plus</td><td>2.x</td><td>Vue3å…¼å®¹ï¼Œä¼ä¸šçº§ç»„ä»¶</td></tr><tr><td><strong>è·¯ç”±ç®¡ç†</strong></td><td>Vue Router</td><td>4.x</td><td>å®˜æ–¹è·¯ç”±ï¼Œä¸Vue3æ·±åº¦é›†æˆ</td></tr><tr><td><strong>åŒ…ç®¡ç†å™¨</strong></td><td>pnpm</td><td>8.x</td><td>ç£ç›˜æ•ˆç‡ï¼Œä¾èµ–ç®¡ç†ï¼ŒMonorepoæ”¯æŒ</td></tr><tr><td><strong>éƒ¨ç½²å¹³å°</strong></td><td>Vercel</td><td>-</td><td>è‡ªåŠ¨åŒ–éƒ¨ç½²ï¼ŒCDNåŠ é€Ÿï¼Œé›¶é…ç½®</td></tr></tbody></table><h2 id="ğŸ¯-æ¶æ„è®¾è®¡åŸåˆ™" tabindex="-1">ğŸ¯ æ¶æ„è®¾è®¡åŸåˆ™ <a class="header-anchor" href="#ğŸ¯-æ¶æ„è®¾è®¡åŸåˆ™" aria-label="Permalink to &quot;ğŸ¯ æ¶æ„è®¾è®¡åŸåˆ™&quot;">â€‹</a></h2><h3 id="_1-ä¸»å­åº”ç”¨åˆ†ç¦»" tabindex="-1">1. ä¸»å­åº”ç”¨åˆ†ç¦» <a class="header-anchor" href="#_1-ä¸»å­åº”ç”¨åˆ†ç¦»" aria-label="Permalink to &quot;1. ä¸»å­åº”ç”¨åˆ†ç¦»&quot;">â€‹</a></h3><ul><li><strong>æ¸…æ™°çš„ä¸šåŠ¡è¾¹ç•Œ</strong>ï¼šæ¯ä¸ªå­åº”ç”¨è´Ÿè´£ç‹¬ç«‹çš„ä¸šåŠ¡é¢†åŸŸ</li><li><strong>æŠ€æœ¯æ ˆç‹¬ç«‹</strong>ï¼šå­åº”ç”¨å¯ä»¥é€‰æ‹©ä¸åŒçš„æŠ€æœ¯æ ˆï¼ˆå½“å‰ç»Ÿä¸€ä½¿ç”¨Vue3ï¼‰</li><li><strong>ç‰ˆæœ¬ç®¡ç†ç‹¬ç«‹</strong>ï¼šå„å­åº”ç”¨å¯ä»¥ç‹¬ç«‹è¿›è¡Œç‰ˆæœ¬è¿­ä»£</li></ul><h3 id="_2-ç‹¬ç«‹å¼€å‘éƒ¨ç½²" tabindex="-1">2. ç‹¬ç«‹å¼€å‘éƒ¨ç½² <a class="header-anchor" href="#_2-ç‹¬ç«‹å¼€å‘éƒ¨ç½²" aria-label="Permalink to &quot;2. ç‹¬ç«‹å¼€å‘éƒ¨ç½²&quot;">â€‹</a></h3><ul><li><strong>å¼€å‘ç‹¬ç«‹æ€§</strong>ï¼šå„å›¢é˜Ÿå¯ä»¥å¹¶è¡Œå¼€å‘ï¼Œå‡å°‘ä»£ç å†²çª</li><li><strong>éƒ¨ç½²ç‹¬ç«‹æ€§</strong>ï¼šå­åº”ç”¨å¯ä»¥å•ç‹¬éƒ¨ç½²ï¼Œä¸å½±å“å…¶ä»–åº”ç”¨</li><li><strong>æµ‹è¯•ç‹¬ç«‹æ€§</strong>ï¼šç‹¬ç«‹çš„æµ‹è¯•ç¯å¢ƒå’Œæµ‹è¯•æµç¨‹</li></ul><h3 id="_3-ç»Ÿä¸€åŸºç¡€è®¾æ–½" tabindex="-1">3. ç»Ÿä¸€åŸºç¡€è®¾æ–½ <a class="header-anchor" href="#_3-ç»Ÿä¸€åŸºç¡€è®¾æ–½" aria-label="Permalink to &quot;3. ç»Ÿä¸€åŸºç¡€è®¾æ–½&quot;">â€‹</a></h3><ul><li><strong>ç»Ÿä¸€çš„UIè§„èŒƒ</strong>ï¼šä½¿ç”¨ç›¸åŒçš„è®¾è®¡ç³»ç»Ÿå’Œç»„ä»¶åº“</li><li><strong>ç»Ÿä¸€çš„å¼€å‘è§„èŒƒ</strong>ï¼šä»£ç è§„èŒƒã€Gitæäº¤è§„èŒƒç­‰</li><li><strong>ç»Ÿä¸€çš„éƒ¨ç½²æµç¨‹</strong>ï¼šæ ‡å‡†åŒ–çš„CI/CDæµç¨‹</li></ul><h3 id="_4-é«˜æ•ˆé€šä¿¡æœºåˆ¶" tabindex="-1">4. é«˜æ•ˆé€šä¿¡æœºåˆ¶ <a class="header-anchor" href="#_4-é«˜æ•ˆé€šä¿¡æœºåˆ¶" aria-label="Permalink to &quot;4. é«˜æ•ˆé€šä¿¡æœºåˆ¶&quot;">â€‹</a></h3><ul><li><strong>Propsä¼ é€’</strong>ï¼šä¸»åº”ç”¨å‘å­åº”ç”¨ä¼ é€’é…ç½®å’Œæ•°æ®</li><li><strong>äº‹ä»¶æ€»çº¿</strong>ï¼šè·¨åº”ç”¨çš„äº‹ä»¶é€šä¿¡</li><li><strong>å…¨å±€çŠ¶æ€</strong>ï¼šå…±äº«çŠ¶æ€ç®¡ç†</li><li><strong>è·¯ç”±é€šä¿¡</strong>ï¼šè·¨åº”ç”¨è·¯ç”±è·³è½¬</li></ul><h2 id="ğŸ“-ç›®å½•ç»“æ„è®¾è®¡" tabindex="-1">ğŸ“ ç›®å½•ç»“æ„è®¾è®¡ <a class="header-anchor" href="#ğŸ“-ç›®å½•ç»“æ„è®¾è®¡" aria-label="Permalink to &quot;ğŸ“ ç›®å½•ç»“æ„è®¾è®¡&quot;">â€‹</a></h2><h3 id="æ•´ä½“ç»“æ„" tabindex="-1">æ•´ä½“ç»“æ„ <a class="header-anchor" href="#æ•´ä½“ç»“æ„" aria-label="Permalink to &quot;æ•´ä½“ç»“æ„&quot;">â€‹</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>qiankun-microfrontend/</span></span>
<span class="line"><span>â”œâ”€â”€ main-app/                 # ä¸»åº”ç”¨ï¼ˆå£³åº”ç”¨ï¼‰</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ src/</span></span>
<span class="line"><span>â”‚   â”‚   â”œâ”€â”€ components/       # å…¬å…±ç»„ä»¶</span></span>
<span class="line"><span>â”‚   â”‚   â”‚   â”œâ”€â”€ Header/       # é¡¶éƒ¨å¯¼èˆª</span></span>
<span class="line"><span>â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar/      # ä¾§è¾¹èœå•</span></span>
<span class="line"><span>â”‚   â”‚   â”‚   â””â”€â”€ Layout/       # å¸ƒå±€ç»„ä»¶</span></span>
<span class="line"><span>â”‚   â”‚   â”œâ”€â”€ micro/           # å¾®å‰ç«¯é…ç½® â­</span></span>
<span class="line"><span>â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts      # ä¸»é…ç½®æ–‡ä»¶</span></span>
<span class="line"><span>â”‚   â”‚   â”‚   â””â”€â”€ apps.ts       # åº”ç”¨æ³¨å†Œ</span></span>
<span class="line"><span>â”‚   â”‚   â”œâ”€â”€ router/          # è·¯ç”±é…ç½®</span></span>
<span class="line"><span>â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts      # ä¸»è·¯ç”±</span></span>
<span class="line"><span>â”‚   â”‚   â”‚   â””â”€â”€ guards.ts     # è·¯ç”±å®ˆå«</span></span>
<span class="line"><span>â”‚   â”‚   â”œâ”€â”€ shared/          # å…±äº«æ¨¡å—</span></span>
<span class="line"><span>â”‚   â”‚   â”‚   â”œâ”€â”€ eventBus.ts   # äº‹ä»¶æ€»çº¿</span></span>
<span class="line"><span>â”‚   â”‚   â”‚   â”œâ”€â”€ utils/        # å·¥å…·å‡½æ•°</span></span>
<span class="line"><span>â”‚   â”‚   â”‚   â””â”€â”€ types/        # ç±»å‹å®šä¹‰</span></span>
<span class="line"><span>â”‚   â”‚   â”œâ”€â”€ views/           # é¡µé¢ç»„ä»¶</span></span>
<span class="line"><span>â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard/    # ä»ªè¡¨æ¿</span></span>
<span class="line"><span>â”‚   â”‚   â”‚   â””â”€â”€ Layout/       # å¸ƒå±€é¡µé¢</span></span>
<span class="line"><span>â”‚   â”‚   â”œâ”€â”€ assets/          # é™æ€èµ„æº</span></span>
<span class="line"><span>â”‚   â”‚   â”œâ”€â”€ styles/          # å…¨å±€æ ·å¼</span></span>
<span class="line"><span>â”‚   â”‚   â””â”€â”€ main.ts          # å…¥å£æ–‡ä»¶</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ public/              # é™æ€æ–‡ä»¶</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ vite.config.ts       # Viteé…ç½®</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ tsconfig.json        # TypeScripté…ç½®</span></span>
<span class="line"><span>â”‚   â””â”€â”€ package.json         # ä¾èµ–é…ç½®</span></span>
<span class="line"><span>â”œâ”€â”€ sub-apps/                # å­åº”ç”¨ç›®å½•</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ user-management/     # ç”¨æˆ·ç®¡ç†å­åº”ç”¨</span></span>
<span class="line"><span>â”‚   â”‚   â”œâ”€â”€ src/</span></span>
<span class="line"><span>â”‚   â”‚   â”‚   â”œâ”€â”€ components/  # ä¸šåŠ¡ç»„ä»¶</span></span>
<span class="line"><span>â”‚   â”‚   â”‚   â”œâ”€â”€ views/       # é¡µé¢ç»„ä»¶</span></span>
<span class="line"><span>â”‚   â”‚   â”‚   â”œâ”€â”€ router/      # è·¯ç”±é…ç½®</span></span>
<span class="line"><span>â”‚   â”‚   â”‚   â”œâ”€â”€ api/         # æ¥å£å®šä¹‰</span></span>
<span class="line"><span>â”‚   â”‚   â”‚   â”œâ”€â”€ stores/      # çŠ¶æ€ç®¡ç†</span></span>
<span class="line"><span>â”‚   â”‚   â”‚   â”œâ”€â”€ utils/       # å·¥å…·å‡½æ•°</span></span>
<span class="line"><span>â”‚   â”‚   â”‚   â”œâ”€â”€ types/       # ç±»å‹å®šä¹‰</span></span>
<span class="line"><span>â”‚   â”‚   â”‚   â””â”€â”€ main.ts      # å…¥å£æ–‡ä»¶ â­</span></span>
<span class="line"><span>â”‚   â”‚   â”œâ”€â”€ vite.config.ts   # Viteé…ç½® â­</span></span>
<span class="line"><span>â”‚   â”‚   â””â”€â”€ package.json</span></span>
<span class="line"><span>â”‚   â””â”€â”€ system-management/   # ç³»ç»Ÿç®¡ç†å­åº”ç”¨</span></span>
<span class="line"><span>â”‚       â””â”€â”€ ...             # ç»“æ„åŒç”¨æˆ·ç®¡ç†</span></span>
<span class="line"><span>â”œâ”€â”€ shared/                  # å…±äº«èµ„æºï¼ˆå·²åºŸå¼ƒï¼‰</span></span>
<span class="line"><span>â”œâ”€â”€ scripts/                 # éƒ¨ç½²è„šæœ¬</span></span>
<span class="line"><span>â”œâ”€â”€ docker/                  # Dockeré…ç½®</span></span>
<span class="line"><span>â”œâ”€â”€ nginx/                   # Nginxé…ç½®</span></span>
<span class="line"><span>â”œâ”€â”€ docs/                    # é¡¹ç›®æ–‡æ¡£</span></span>
<span class="line"><span>â”œâ”€â”€ docs-site/               # VitePressæ–‡æ¡£ç«™ç‚¹</span></span>
<span class="line"><span>â”œâ”€â”€ .github/workflows/       # CI/CDé…ç½®</span></span>
<span class="line"><span>â”œâ”€â”€ .vscode/                 # VSCodeé…ç½®</span></span>
<span class="line"><span>â”œâ”€â”€ .eslintrc.js             # ESLinté…ç½®</span></span>
<span class="line"><span>â”œâ”€â”€ .prettierrc              # Prettieré…ç½®</span></span>
<span class="line"><span>â”œâ”€â”€ tsconfig.json            # TypeScriptæ ¹é…ç½®</span></span>
<span class="line"><span>â””â”€â”€ package.json             # æ ¹é…ç½®æ–‡ä»¶</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br></div></div><h3 id="ä¸»åº”ç”¨ç»“æ„ç‰¹ç‚¹" tabindex="-1">ä¸»åº”ç”¨ç»“æ„ç‰¹ç‚¹ <a class="header-anchor" href="#ä¸»åº”ç”¨ç»“æ„ç‰¹ç‚¹" aria-label="Permalink to &quot;ä¸»åº”ç”¨ç»“æ„ç‰¹ç‚¹&quot;">â€‹</a></h3><ul><li><strong>micro/ç›®å½•</strong>ï¼šæ ¸å¿ƒçš„å¾®å‰ç«¯é…ç½®ï¼Œè´Ÿè´£å­åº”ç”¨çš„æ³¨å†Œå’Œç”Ÿå‘½å‘¨æœŸç®¡ç†</li><li><strong>shared/ç›®å½•</strong>ï¼šå†…éƒ¨å…±äº«æ¨¡å—ï¼Œé¿å…å¤–éƒ¨ä¾èµ–</li><li><strong>components/ç›®å½•</strong>ï¼šå…¨å±€å…¬å…±ç»„ä»¶ï¼Œä¸ºæ‰€æœ‰å­åº”ç”¨æä¾›ç»Ÿä¸€çš„UIç»„ä»¶</li></ul><h3 id="å­åº”ç”¨ç»“æ„ç‰¹ç‚¹" tabindex="-1">å­åº”ç”¨ç»“æ„ç‰¹ç‚¹ <a class="header-anchor" href="#å­åº”ç”¨ç»“æ„ç‰¹ç‚¹" aria-label="Permalink to &quot;å­åº”ç”¨ç»“æ„ç‰¹ç‚¹&quot;">â€‹</a></h3><ul><li><strong>ç‹¬ç«‹çš„package.json</strong>ï¼šæ¯ä¸ªå­åº”ç”¨éƒ½æœ‰ç‹¬ç«‹çš„ä¾èµ–ç®¡ç†</li><li><strong>main.ts</strong>ï¼šå¯¼å‡ºqiankunç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼ŒåŒæ—¶æ”¯æŒç‹¬ç«‹è¿è¡Œ</li><li><strong>router/ç›®å½•</strong>ï¼šå­åº”ç”¨çš„è·¯ç”±é…ç½®ï¼Œéœ€è¦è€ƒè™‘ä¸»åº”ç”¨çš„è·¯ç”±å‰ç¼€</li></ul><h2 id="ğŸ”„-åº”ç”¨ç”Ÿå‘½å‘¨æœŸ" tabindex="-1">ğŸ”„ åº”ç”¨ç”Ÿå‘½å‘¨æœŸ <a class="header-anchor" href="#ğŸ”„-åº”ç”¨ç”Ÿå‘½å‘¨æœŸ" aria-label="Permalink to &quot;ğŸ”„ åº”ç”¨ç”Ÿå‘½å‘¨æœŸ&quot;">â€‹</a></h2><h3 id="qiankunç”Ÿå‘½å‘¨æœŸ" tabindex="-1">Qiankunç”Ÿå‘½å‘¨æœŸ <a class="header-anchor" href="#qiankunç”Ÿå‘½å‘¨æœŸ" aria-label="Permalink to &quot;Qiankunç”Ÿå‘½å‘¨æœŸ&quot;">â€‹</a></h3><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sequenceDiagram</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    participant Main as ä¸»åº”ç”¨</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    participant Sub as å­åº”ç”¨</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Main-&gt;&gt;Sub: 1. åŠ è½½å­åº”ç”¨</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Sub-&gt;&gt;Sub: 2. bootstrap()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Sub--&gt;&gt;Main: å¯åŠ¨å®Œæˆ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Main-&gt;&gt;Sub: 3. æŒ‚è½½å­åº”ç”¨</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Sub-&gt;&gt;Sub: 4. mount(props)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Sub--&gt;&gt;Main: æŒ‚è½½å®Œæˆ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Note over Main,Sub: ç”¨æˆ·æ“ä½œï¼Œåº”ç”¨è¿è¡Œ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Main-&gt;&gt;Sub: 5. å¸è½½å­åº”ç”¨</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Sub-&gt;&gt;Sub: 6. unmount()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Sub--&gt;&gt;Main: å¸è½½å®Œæˆ</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="ç”Ÿå‘½å‘¨æœŸå®ç°" tabindex="-1">ç”Ÿå‘½å‘¨æœŸå®ç° <a class="header-anchor" href="#ç”Ÿå‘½å‘¨æœŸå®ç°" aria-label="Permalink to &quot;ç”Ÿå‘½å‘¨æœŸå®ç°&quot;">â€‹</a></h3><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å­åº”ç”¨ main.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { createApp } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> App </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./App.vue&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> router </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./router&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> app</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// qiankunç”Ÿå‘½å‘¨æœŸ - å¯åŠ¨</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> bootstrap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;[ç”¨æˆ·ç®¡ç†] åº”ç”¨å¯åŠ¨&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// qiankunç”Ÿå‘½å‘¨æœŸ - æŒ‚è½½</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">props</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;[ç”¨æˆ·ç®¡ç†] åº”ç”¨æŒ‚è½½&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, props)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  app </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createApp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(App)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(router)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> container</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> props.container </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    ?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> props.container.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">querySelector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;#app&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;#app&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(container)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// qiankunç”Ÿå‘½å‘¨æœŸ - å¸è½½</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> unmount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;[ç”¨æˆ·ç®¡ç†] åº”ç”¨å¸è½½&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  app?.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">unmount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  app </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç‹¬ç«‹è¿è¡Œ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">window.__POWERED_BY_QIANKUN__) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  mount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><h2 id="ğŸŒ-è·¯ç”±æ¶æ„" tabindex="-1">ğŸŒ è·¯ç”±æ¶æ„ <a class="header-anchor" href="#ğŸŒ-è·¯ç”±æ¶æ„" aria-label="Permalink to &quot;ğŸŒ è·¯ç”±æ¶æ„&quot;">â€‹</a></h2><h3 id="è·¯ç”±è®¾è®¡æ¨¡å¼" tabindex="-1">è·¯ç”±è®¾è®¡æ¨¡å¼ <a class="header-anchor" href="#è·¯ç”±è®¾è®¡æ¨¡å¼" aria-label="Permalink to &quot;è·¯ç”±è®¾è®¡æ¨¡å¼&quot;">â€‹</a></h3><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">graph TD</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    A[ä¸»åº”ç”¨è·¯ç”±] --&gt; B[/dashboard - ä»ªè¡¨æ¿]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    A --&gt; C[/user/* - ç”¨æˆ·ç®¡ç†]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    A --&gt; D[/system/* - ç³»ç»Ÿç®¡ç†]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    C --&gt; E[ç”¨æˆ·ç®¡ç†å­åº”ç”¨è·¯ç”±]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    E --&gt; F[/user/list - ç”¨æˆ·åˆ—è¡¨]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    E --&gt; G[/user/detail/:id - ç”¨æˆ·è¯¦æƒ…]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    E --&gt; H[/user/add - æ·»åŠ ç”¨æˆ·]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    D --&gt; I[ç³»ç»Ÿç®¡ç†å­åº”ç”¨è·¯ç”±]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    I --&gt; J[/system/settings - ç³»ç»Ÿè®¾ç½®]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    I --&gt; K[/system/logs - æ“ä½œæ—¥å¿—]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    I --&gt; L[/system/permissions - æƒé™ç®¡ç†]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="è·¯ç”±é…ç½®ç¤ºä¾‹" tabindex="-1">è·¯ç”±é…ç½®ç¤ºä¾‹ <a class="header-anchor" href="#è·¯ç”±é…ç½®ç¤ºä¾‹" aria-label="Permalink to &quot;è·¯ç”±é…ç½®ç¤ºä¾‹&quot;">â€‹</a></h3><p><strong>ä¸»åº”ç”¨è·¯ç”±é…ç½®</strong>ï¼š</p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// main-app/src/router/index.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> routes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    redirect: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/dashboard&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/dashboard&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    component: Dashboard</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å¾®å‰ç«¯è·¯ç”±é€šé…ç¬¦</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/user/:pathMatch(.*)*&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    component: MicroApp</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/system/:pathMatch(.*)*&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    component: MicroApp</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><strong>å­åº”ç”¨è·¯ç”±é…ç½®</strong>ï¼š</p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// sub-apps/user-management/src/router/index.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> routes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/user&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    redirect: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/user/list&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/user/list&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    component: UserList</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/user/detail/:id&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    component: UserDetail</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·¯ç”±åŸºç¡€è·¯å¾„é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> router</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createRouter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  history: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createWebHistory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    window.__POWERED_BY_QIANKUN__ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;/user&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;/&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  routes</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h2 id="ğŸ”—-é€šä¿¡æ¶æ„" tabindex="-1">ğŸ”— é€šä¿¡æ¶æ„ <a class="header-anchor" href="#ğŸ”—-é€šä¿¡æ¶æ„" aria-label="Permalink to &quot;ğŸ”— é€šä¿¡æ¶æ„&quot;">â€‹</a></h2><h3 id="é€šä¿¡æ–¹å¼å¯¹æ¯”" tabindex="-1">é€šä¿¡æ–¹å¼å¯¹æ¯” <a class="header-anchor" href="#é€šä¿¡æ–¹å¼å¯¹æ¯”" aria-label="Permalink to &quot;é€šä¿¡æ–¹å¼å¯¹æ¯”&quot;">â€‹</a></h3><table tabindex="0"><thead><tr><th>é€šä¿¡æ–¹å¼</th><th>é€‚ç”¨åœºæ™¯</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td><strong>Propsä¼ é€’</strong></td><td>ä¸»åº”ç”¨â†’å­åº”ç”¨</td><td>ç®€å•ç›´æ¥ï¼Œç±»å‹å®‰å…¨</td><td>å•å‘ä¼ é€’ï¼Œæ•°æ®é‡æœ‰é™</td></tr><tr><td><strong>äº‹ä»¶æ€»çº¿</strong></td><td>è·¨åº”ç”¨é€šä¿¡</td><td>è§£è€¦æ€§å¥½ï¼Œæ”¯æŒå¤šå¯¹å¤š</td><td>è°ƒè¯•å›°éš¾ï¼Œç±»å‹æ£€æŸ¥å¼±</td></tr><tr><td><strong>å…¨å±€çŠ¶æ€</strong></td><td>å…±äº«æ•°æ®</td><td>æ•°æ®ä¸€è‡´æ€§å¥½</td><td>çŠ¶æ€ç®¡ç†å¤æ‚</td></tr><tr><td><strong>URLå‚æ•°</strong></td><td>é¡µé¢é—´è·³è½¬</td><td>å¯æŒä¹…åŒ–ï¼ŒSEOå‹å¥½</td><td>æ•°æ®ç±»å‹å—é™</td></tr></tbody></table><h3 id="äº‹ä»¶æ€»çº¿å®ç°" tabindex="-1">äº‹ä»¶æ€»çº¿å®ç° <a class="header-anchor" href="#äº‹ä»¶æ€»çº¿å®ç°" aria-label="Permalink to &quot;äº‹ä»¶æ€»çº¿å®ç°&quot;">â€‹</a></h3><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// main-app/src/shared/eventBus.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> EventBus</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  private</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> events</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Record</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[]&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // è®¢é˜…äº‹ä»¶</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">event</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">callback</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.events[event]) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.events[event] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> []</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.events[event].</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(callback)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å‘å¸ƒäº‹ä»¶</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  emit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">event</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">args</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[]) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.events[event]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.events[event].</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">callback</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      callback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">args)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å–æ¶ˆè®¢é˜…</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  off</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">event</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">callback</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.events[event]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (callback) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.events[event] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.events[event].</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">cb</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cb </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> callback)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      delete</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.events[event]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> globalEventBus</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> EventBus</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><h2 id="ğŸ›¡ï¸-æ ·å¼éš”ç¦»" tabindex="-1">ğŸ›¡ï¸ æ ·å¼éš”ç¦» <a class="header-anchor" href="#ğŸ›¡ï¸-æ ·å¼éš”ç¦»" aria-label="Permalink to &quot;ğŸ›¡ï¸ æ ·å¼éš”ç¦»&quot;">â€‹</a></h2><h3 id="æ ·å¼éš”ç¦»ç­–ç•¥" tabindex="-1">æ ·å¼éš”ç¦»ç­–ç•¥ <a class="header-anchor" href="#æ ·å¼éš”ç¦»ç­–ç•¥" aria-label="Permalink to &quot;æ ·å¼éš”ç¦»ç­–ç•¥&quot;">â€‹</a></h3><ol><li><strong>qiankunæ²™ç®±æœºåˆ¶</strong>ï¼šè‡ªåŠ¨éš”ç¦»JSå’ŒCSS</li><li><strong>CSS Modules</strong>ï¼šç»„ä»¶çº§æ ·å¼éš”ç¦»</li><li><strong>å‘½åç©ºé—´</strong>ï¼šä¸ºæ¯ä¸ªåº”ç”¨æ·»åŠ å”¯ä¸€å‰ç¼€</li><li><strong>Shadow DOM</strong>ï¼šå®Œå…¨éš”ç¦»çš„æ ·å¼ç¯å¢ƒï¼ˆå¯é€‰ï¼‰</li></ol><h3 id="å®ç°ç¤ºä¾‹" tabindex="-1">å®ç°ç¤ºä¾‹ <a class="header-anchor" href="#å®ç°ç¤ºä¾‹" aria-label="Permalink to &quot;å®ç°ç¤ºä¾‹&quot;">â€‹</a></h3><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">&lt;!-- å­åº”ç”¨ç»„ä»¶æ ·å¼éš”ç¦» --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user-management&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">h1</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;title&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;ç”¨æˆ·ç®¡ç†&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">h1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">style</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> scoped</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.user-management</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  /* æ ·å¼åªä½œç”¨äºå½“å‰ç»„ä»¶ */</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  padding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">px</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">#333</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  font-size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">24</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">px</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">style</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="ğŸš€-æ€§èƒ½ä¼˜åŒ–æ¶æ„" tabindex="-1">ğŸš€ æ€§èƒ½ä¼˜åŒ–æ¶æ„ <a class="header-anchor" href="#ğŸš€-æ€§èƒ½ä¼˜åŒ–æ¶æ„" aria-label="Permalink to &quot;ğŸš€ æ€§èƒ½ä¼˜åŒ–æ¶æ„&quot;">â€‹</a></h2><h3 id="ä¼˜åŒ–ç­–ç•¥" tabindex="-1">ä¼˜åŒ–ç­–ç•¥ <a class="header-anchor" href="#ä¼˜åŒ–ç­–ç•¥" aria-label="Permalink to &quot;ä¼˜åŒ–ç­–ç•¥&quot;">â€‹</a></h3><ol><li><strong>æŒ‰éœ€åŠ è½½</strong>ï¼šå­åº”ç”¨æ‡’åŠ è½½ï¼Œå‡å°‘åˆå§‹åŒ…å¤§å°</li><li><strong>é¢„åŠ è½½</strong>ï¼šæ™ºèƒ½é¢„åŠ è½½å³å°†è®¿é—®çš„å­åº”ç”¨</li><li><strong>å…±äº«ä¾èµ–</strong>ï¼šæŠ½å–å…¬å…±ä¾èµ–ï¼Œé¿å…é‡å¤åŠ è½½</li><li><strong>ç¼“å­˜ç­–ç•¥</strong>ï¼šåˆç†é…ç½®æµè§ˆå™¨ç¼“å­˜å’ŒCDNç¼“å­˜</li></ol><h3 id="åŠ è½½ä¼˜åŒ–" tabindex="-1">åŠ è½½ä¼˜åŒ– <a class="header-anchor" href="#åŠ è½½ä¼˜åŒ–" aria-label="Permalink to &quot;åŠ è½½ä¼˜åŒ–&quot;">â€‹</a></h3><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// é¢„åŠ è½½ç­–ç•¥</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> preloadApps</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;user-management&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åœ¨é€‚å½“æ—¶æœºé¢„åŠ è½½</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> preloadMicroApps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  preloadApps.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* webpackChunkName: &quot;[request]&quot; */</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`../micro/\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·¯ç”±å®ˆå«ä¸­è§¦å‘é¢„åŠ è½½</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">router.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">beforeEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">to</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">shouldPreload</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(to.path)) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    preloadMicroApps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><hr><p>é€šè¿‡ç²¾å¿ƒè®¾è®¡çš„æ¶æ„ï¼Œæœ¬é¡¹ç›®å®ç°äº†çœŸæ­£çš„å¾®å‰ç«¯åº”ç”¨ï¼Œä¸ºä¼ä¸šçº§åº”ç”¨å¼€å‘æä¾›äº†å®Œæ•´ã€å¯æ‰©å±•çš„è§£å†³æ–¹æ¡ˆã€‚</p>`,53)])])}const b=a(l,[["render",e]]);export{c as __pageData,b as default};
